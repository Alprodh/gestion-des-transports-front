<!-- Formulaire de reservation -->
<form #etatForm="ngForm">
  <div class="row">
    <div class="col-12">

      <!-- Choix dates -->
      <div class="form-group row" [ngClass]="{'was-validated': etatDateHeureResa.touched}">
        <label for="dateHeure" class="col-md-5 col-form-label">Date / heure de réservation *</label>
        <div class="col-md-7">
          <input type="datetime-local" min="{{ todayStr }}" class="form-control" #etatDateHeureResa="ngModel"
            name="dateHeure" [(ngModel)]="reservation.dateDepart" required>
          <div class="valid-feedback" *ngIf="dateDepartToString()"></div>
          <div class="invalid-feedback">La date et l'heure sont obligatoires</div>
        </div>
      </div>
      <div class="form-group row" [ngClass]="{'was-validated': etatDateHeureRetour.touched}">
        <label for="dateHeure" class="col-md-5 col-form-label">Date / heure retour *</label>
        <div class="col-md-7">
          <input type="datetime-local" min="{{ dateDepartStr }}" class="form-control" #etatDateHeureRetour="ngModel"
            name="dateHeure" [(ngModel)]="reservation.dateArrivee" required>
          <div class="valid-feedback"></div>
          <div class="invalid-feedback">La date et l'heure sont obligatoires</div>
        </div>
      </div>

      <!-- Carousel véhicules -->
      <div id="carouselVehicule" class="carousel slide carousel-fade" data-ride="carousel"
      *ngFor="let vehicule of vehicules">
        <!--Indicators
        <ol class="carousel-indicators">
          <li data-target="#carouselVehicule" data-slide-to="0" class="active"></li>
          <li data-target="#carouselVehicule" data-slide-to="1"></li>
          <li data-target="#carouselVehicule" data-slide-to="2"></li>
        </ol>-->
        <!--/.Indicators-->
        <!--Slides-->
        <div class="carousel-inner" role="listbox">
          <div class="carousel-item active">
            <div class="view">
              <img class="d-block w-100" src={{ vehicule.photoUrl }} alt="Photo véhicule">
              <div class="mask rgba-black-light"></div>
            </div>
            <div class="carousel-caption">
              <h3 class="h3-responsive">{{ vehicule.immatriculation }}</h3>
              <p>{{ vehicule.marque }} - {{ vehicule.marque }}</p><br/>
              <p>{{ vehicule.categorie }}</p>
            </div>
          </div>
        <!--/.Slides-->
        <!--Controls-->
        <a class="carousel-control-prev" href="#carouselVehicule" role="button" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselVehicule" role="button" data-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
        <!--/.Controls-->
      </div>
      <!--/.Carousel Wrapper-->
      </div>
      <!-- Bouton réserver -->
      <div class="text-center" style="margin: 10px;">
        <button class="btn btn-secondary" *ngIf="etatForm.invalid">Réserver</button>
        <button class="btn btn-primary" *ngIf="etatForm.valid" data-toggle="modal"
          data-target="#ModalConfirmation">Réserver</button>
      </div>
    </div>
  </div>
</form>

<!-- Modal Confirmation
<div class="modal fade" id="ModalConfirmation" tabindex="-1" role="dialog" aria-labelledby="ModalCenterTitle"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">

      <div class="modal-header">
        <h5 class="modal-title" id="ModalLongTitle">Confirmation de votre proposition</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">
        <form>
          <div class="form-group row">
            <label for="depart" class="col-md-5 col-form-label">Adresse de départ</label>
            <div class="col-md-7">
              <input type="text" class="form-control" #etatDepart="ngModel" name="depart" [(ngModel)]="annonce.depart"
                readonly>
            </div>
          </div>
          <div class="form-group row">
            <label for="destination" class="col-md-5 col-form-label">Adresse de destination</label>
            <div class="col-md-7">
              <input type="text" class="form-control" name="destination" [(ngModel)]="annonce.destination" readonly>
            </div>
          </div>
          <div class="form-group row">
            <label for="immatriculation" class="col-md-5 col-form-label">Immatriculation</label>
            <div class="col-md-7">
              <input type="text" class="form-control" name="immatriculation"
                [(ngModel)]="annonce.vehicule.immatriculation" readonly>
            </div>
          </div>
          <div class="form-group row">
            <label for="marque" class="col-md-5 col-form-label">Marque</label>
            <div class="col-md-7">
              <input type="text" class="form-control" name="marque" [(ngModel)]="annonce.vehicule.marque" readonly>
            </div>
          </div>
          <div class="form-group row">
            <label for="modele" class="col-md-5 col-form-label">Modèle</label>
            <div class="col-md-7">
              <input type="text" class="form-control" name="modele" [(ngModel)]="annonce.vehicule.modele" readonly>
            </div>
          </div>
          <div class="form-group row">
            <label for="places" class="col-md-5 col-form-label">Nombre de places disponibles</label>
            <div class="col-md-2">
              <input type="number" class="form-control" name="places" [(ngModel)]="annonce.vehicule.places" readonly>
            </div>
          </div>
          <div class="form-group row">
            <label for="dateHeure" class="col-md-5 col-form-label">Date / heure</label>
            <div class="col-md-7">
              <input type="text" class="form-control" name="dateHeure"
              [(ngModel)]="annonce.dateDepart" readonly>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Annuler</button>
        <button type="button" class="btn btn-primary" (click)="publier()" data-dismiss="modal">Confirmer</button>
      </div>
    </div>
  </div>
</div>-->
